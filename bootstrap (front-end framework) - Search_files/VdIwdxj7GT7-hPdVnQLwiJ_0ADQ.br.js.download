(function(){function ii(){var r,f;if(pi()){var e=_d.querySelector(kt),s=_d.querySelector(dt),h=n?n.querySelector(".b_ad"):null;e||s||h||(r=ki(),r&&(Log.Log("Show",i,"SuperCaptionTaskPaneV1"),u?(t=r,c(null,!1)):(t=r,f=ot(),o=f,y(),sj_be(_w,"resize",ht),c(f,!1))))}}function ri(){var n,t;fi()&&(n=ei(),n.length&&(Log.Log("Show",i,"SuperCaptionTaskPane"),r=n,u?(t=ot(),o=t,y(),sj_be(_w,"resize",ht),c(t,!0)):c(null,!0)))}function ot(){var r,i=sj_ce("li",l,l),t,f;return i.setAttribute("data-priority","2"),t=n,t&&(((r=t.children)===null||r===void 0?void 0:r.length)?(f=u?ui(t):di(t),f?t.insertBefore(i,f):t.appendChild(i)):t.appendChild(i)),i}function ui(n){var t,i,r,u;if(!n||(t=n.children,t.length==0))return null;for(i=0,r=0;r<t.length;r++)if(u=t[r],st(u,ti))return u;return i=Lib.CssClass.contains(t[t.length-1],s)?t.length-1:t.length,i<t.length?t[i]:null}function fi(){var r=(n===null||n===void 0?void 0:n.childElementCount)||0,t,i;if(r===0)return!0;for(t=0;t<n.children.length;t++)if((i=n.children[t],i)&&!st(i,ni))return!1;return!0}function st(n,t){var r,i;if(n&&t)for(r=0;r<t.length;r++)if(i=t[r],i.childSelector&&n.querySelector(i.childSelector)||i.selfClassName&&Lib.CssClass.contains(n,i.selfClassName))return!0;return!1}function ei(){var n,r,f,t,u,i;if(!ge_cl(_d,it).length)return[];if(n=_d.querySelectorAll(k),r=[],n===null||n===void 0?void 0:n.length)for(f=Math.min(v,n.length),t=0;t<f;t++)u=n[t],i=ge_cl(u,rt),(i===null||i===void 0?void 0:i.length)&&r.push(u);return r}function c(n,o){var c,p,h,w,b,l,k;if(o){if(!r||r.length===0)return}else if(!t)return;var v=typeof sctpeIID!="undefined"?sctpeIID:null,y=[],s=null;if(o){for(c=0;c<r.length;c++){p=ge_cl(r[c],rt)[0];v||(v=p.getAttribute(wt));try{h=JSON.parse(p.getAttribute(ut));(h===null||h===void 0?void 0:h.url)&&(s||(s=h),a[h.url]=r[c],y.push({en:h.entity,url:h.url}))}catch(d){}}if(!y.length)return}else{if(w=ge_cl(t,"scs_c")[0],!w)return;s=JSON.parse(w.getAttribute(ut))}b=ft+"?IID=".concat(v,"&IG=").concat(_G.IG);l=si();(l===null||l===void 0?void 0:l.length)&&(b+="&"+l);k=o!==u;s.query=oi();s.eft=!0;s.pw=f[e];s.sctp=1;s.isrrcf=k;o&&(s.rbms=y);try{hi(b,n,JSON.stringify(s),k)}catch(d){Log.Log("Error",i,"SCSErrSentReq")}}function oi(){var n,t,i=(t=(n=_w.location)===null||n===void 0?void 0:n.search)===null||t===void 0?void 0:t.match(new RegExp("[?&]{1}q=([^&]+)"));return i?decodeURI(i[1]):null}function si(){var i,t=(i=_w.location)===null||i===void 0?void 0:i.search,n,u,e;if((t===null||t===void 0?void 0:t.length)>1){var f=[],o={atlahostname:null,testhooks:null,uncrunched:null,darkschemeovr:null,webthemedark:null},r=t.substring(1).split("&");for(n=0;n<r.length;n++)u=r[n].split("="),u.length===2&&(e=u[0].toLowerCase(),e in o&&f.push(r[n]));return f.join("&")}return null}function hi(n,t,r,u){var f=sj_gx();f.onreadystatechange=function(){f.readyState===4&&f.status===200&&ci(t,f.responseText,u)};f.onerror=function(){Log.Log(pt,i,"SCSReqErr")};f.open("POST",n,!0);f.setRequestHeader("content-type","application/json");f.send(r)}function ci(n,t,r){var u,o,s;if((Log.Log("Ajax",i,"SCTPRequestComplete"),n&&!r)&&t){if(et){Log.Log("Ajax",i,"SCTPRequestDI");return}if(u=sj_ce("div",null,"scs_c scs_ws3"),sj_appHTML(u,t),!u||!ge_cl(u,vt)[0]){Log.Log("Ajax",i,"SCTPEmpRes");return}n.appendChild(u);o=u.querySelector("#aRmsDefer");o&&o.removeAttribute("id");_w.rms&&_w.rms.start();li(n);s=function(){SuperCaptionsContainerAjax.init(null,n);_w.sj_evt&&sj_evt.unbind(tt,s)};_w.sj_evt&&sj_evt.bind(tt,s,!0);_w.sj_evt&&sj_evt.fire(yt,f[e]);et=!0}}function li(n){if(n&&!n.querySelector(ct)){var t=ai();h=ge_cl(n,lt)[0];t&&h&&h.insertBefore(t,h.firstChild)}}function ai(){var i=u?vi():gi(),n,t;return i?(n=sj_ce("div",null,at),t=sj_ce("h2"),t.innerText=i,n.appendChild(t),n):null}function vi(){var r,u,f,t,n,i,e;if(typeof superCaptionTPData!="undefined"&&superCaptionTPData&&(f=superCaptionTPData.headerUrl,a[f])){if(t=a[f],n=(r=t.querySelector(w))===null||r===void 0?void 0:r.innerText,n)return n;for(i=0;i<t.childNodes.length;i++)if(e=t.childNodes[i],e.tagName==="H2")return e.innerText;if(n=(u=t.querySelector(b))===null||u===void 0?void 0:u.innerText,n)return n}return null}function ht(){y()}function y(){var i,n,t;if(o){if(i=o.offsetWidth,n=-1,typeof i=="undefined"||i===0)n=f.length-1;else for(t=0;t<f.length;t++)if(f[t]<=i){n=t;break}n!=e&&n!=-1&&(e=n,yi(o,p,p[e]))}}function yi(n,t,i){for(var f,r=0,u=t;r<u.length;r++)f=u[r],Lib.CssClass.contains(n,f)&&Lib.CssClass.remove(n,f);Lib.CssClass.add(n,i)}function pi(){var t=(n===null||n===void 0?void 0:n.childElementCount)||0,i,r;return t>2?!1:t===0?!0:(i=wi(),r=bi(),t===1&&(i||r))?!0:t===2&&i&&r?!0:!1}function wi(){var t=n===null||n===void 0?void 0:n.firstChild,i;return t&&t.childElementCount===1?(i=t.firstChild,i&&Lib.CssClass.contains(i,bt)):!1}function bi(){return(n===null||n===void 0?void 0:n.lastChild)&&Lib.CssClass.contains(n.lastChild,s)}function ki(){var n=_d.querySelectorAll(k),r,t,i,u;if(n===null||n===void 0?void 0:n.length)for(r=Math.min(v,n.length),t=0;t<r;t++)if(i=ge_cl(n[t],it),(i===null||i===void 0?void 0:i.length)&&(u=i[0],!Lib.CssClass.contains(u,gt)))return n[t];return null}function di(n){var t,i;return n?(t=n.children,t.length==0)?null:(i=Lib.CssClass.contains(t[t.length-1],s)?t.length-1:t.length,i<t.length?t[i]:null):null}function gi(){var r,u,n=(r=t.querySelector(w))===null||r===void 0?void 0:r.innerText,i,f;if(n)return n;for(i=0;i<t.childNodes.length;i++)if(f=t.childNodes[i],f.tagName==="H2")return f.innerText;return(n=(u=t.querySelector(b))===null||u===void 0?void 0:u.innerText,n)?n:null}var n=_ge("b_context"),f=[472,384,296],p=["scs_ws3","scs_ws2","scs_ws1"],ct=".scs_prTi",lt="scs_metactn",w=".b_title > h2 > a",b="h2 > a",k="#b_results >li.b_algo",at="scs_cpr scs_prTi",l="b_super_task_pane",vt="scs_child",d=".richrswrapper, .b_rrsr",g=".tob_rail_item",nt=".coll_vc",i="SuperCaption",tt="scs_init",yt="scs_resetpanelwidth",pt="SCSErr",it="task_pane_scs",rt="scs_c",s="b_super_task_pane_metadata",wt="data-sc-iid",ut="data-sc-metadata",bt="b_rrsr",kt="#b_context > li .b_entityTP",dt="#b_context > li .utilAns",gt="scs_tpp2",t=null,r=null,a={},ft=null,e=-1,v=3,o=null,h=null,u=!1,et=!1,ni=[{childSelector:".b_sydtiger, .b_wpt_bg"},{childSelector:d},{childSelector:g},{childSelector:".b_bfb_context"},{selfClassName:s},{selfClassName:l},{childSelector:nt}],ti=[{childSelector:d},{childSelector:g},{childSelector:nt}];if(typeof superCaptionData!="undefined"&&superCaptionData)ft=superCaptionData.AjaxUrl,v=superCaptionData.SuperCaptionTaskPaneTargetAlgoLastIndex,u=!superCaptionData.SuperCaptionTaskPaneCFV2Enabled;else return;ii();ri()})()