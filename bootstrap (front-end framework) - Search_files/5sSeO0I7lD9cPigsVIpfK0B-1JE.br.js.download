var GPTHomeScreen;(function(n){function ei(n){var i,r,t,u,f;if(n&&(t=(i=n.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-conversation"),t)&&(u=(r=t.shadowRoot)===null||r===void 0?void 0:r.querySelector(fi),u)&&ti){if(ui)CIB.onModeChanging(function(n){n!=="conversation"||tt||(SydFSCHelper.setFreeSydneyData(),tt=!0)});else SydFSCHelper.setFreeSydneyData();if(d&&(f=oi(),f||(b(n),nt=!0)),CIB===null||CIB===void 0?void 0:CIB.onFreeSydneyPersonaChanged)CIB.onFreeSydneyPersonaChanged(function(i){if(d&&g&&nt&&(!i||i.type==="Copilot")){g=!1;return}it();ii&&(i&&i.id!=="copilot"?(CIB.config.features.enablePrivacyProtectedConversation||(CIB.config.features.enablePrivacyProtectedConversation=!0),CIB.setPrivacyForConversation(!0)):(CIB.config.features.enablePrivacyProtectedConversation=ri,CIB.setPrivacyForConversation(!1)));i&&i.type!=="Copilot"?rt(n,u,t,i):b(n)})}}function it(){var n,t=document.getElementById("b_sydWelcomeTemplate_");t&&((n=t.parentNode)===null||n===void 0?void 0:n.removeChild(t))}function oi(){try{var n=new URLSearchParams(_w.location.search),t=n.get("gptId");if(t)return!0}catch(i){}return!1}function b(n){sj_evt.fire("cib_init",n);si();r&&ft(r)}function si(){sj_evt.fire("lazyLdImg");sj_evt.fire("loadProgImages");sj_evt.fire("RMS.LoadImg")}function rt(n,t,r,u){var f,e,o;u.type!=="Custom"||u.welcomeTiles&&((f=u.welcomeTiles)===null||f===void 0?void 0:f.length)!==0||(u.welcomeTiles=FreeSydneyHelper.getDefaultCustomWelcomeTiles());e=function(){return u.welcomeTiles};o=u.welcomeTiles?function(){return Promise.resolve(u.welcomeTiles)}:null;i=li(u);SydWelcomeScreenBase.setTileContainer(i,!1,o,e);i&&(hi(n),ci(t,r,k,st))}function hi(n){i.setAttribute("slot",k);i.id=i.getAttribute("id")+"_";n.appendChild(i)}function ci(n,t,i,r){var e=n.querySelector("slot[name=".concat(r)),u,f;e||(u=SydWelcomeScreenBase.createSlot(r),f=SydWelcomeScreenBase.createSlot(i,u),n.prepend(u),t.append(f),t.removeAttribute("empty"))}function li(n){var o,f=sj_ce(t,et,ot),u,i,c,l,a;f.setAttribute(ht,"2");var e=sj_ce(t,null,ct),s=sj_ce(t,null,at),h=(o=n.type)===null||o===void 0?void 0:o.toLowerCase(),r=sj_ce(t,null,lt+" "+h);return r.setAttribute("role","img"),r.setAttribute("alt",h),r.setAttribute("aria-label",h+" Logo"),r.setAttribute("tab-index","0"),u=sj_ce(t,null,vt),u.innerHTML=ut(n.displayName||n.name),u.setAttribute("role","heading"),u.setAttribute("aria-level","2"),i=sj_ce(t,null,yt),i.innerHTML=ut(n.welcomeHeader||n.description||""),i.setAttribute("role","heading"),i.setAttribute("aria-level","2"),s.appendChild(r),s.appendChild(u),e.appendChild(s),i.innerHTML&&e.appendChild(i),c=n.type!=="Custom"?bt:n.authorName,l=sj_ce(t,null,pt),l.innerHTML=p===null||p===void 0?void 0:p.replace("{0}",c),e.appendChild(l),ft(w===null||w===void 0?void 0:w.replace("{0}",c)),a=sj_ce(t,null,wt),f.appendChild(e),f.appendChild(a),f}function ut(n){if(n)return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function ft(n){var u=_d.querySelector("cib-serp"),t,i,f;(u===null||u===void 0?void 0:u.shadowRoot)&&(t=u.shadowRoot.querySelector("cib-conversation"),(t===null||t===void 0?void 0:t.shadowRoot)&&(i=t.shadowRoot.querySelector("cib-welcome-container"),(i===null||i===void 0?void 0:i.shadowRoot)&&(f=i.shadowRoot.querySelector(kt),f&&(r||(r=f.innerHTML),f.innerHTML=n))))}var u,f,e,o,s,h,c,l,a,v,y,et="b_sydWelcomeTemplate",ot="b_wlcmCont",t="div",k="wlcmCntnr",st="wlcmCntnrChld",ht="data-priority",ct="b_wlcmHdr",lt="b_wlcmPersLogo",at="b_wlcmPersLogoCont",vt="b_wlcmPersName",yt="b_wlcmPersDesc",pt="b_wlcmPersAuthorText",wt="b_wlcmTileCont",bt="Microsoft",kt=".preview-container .preview-disclaimer .disclaimer span",dt=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isBingChatForEnterprise,!1),gt=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isCopilotChat,!1),ni=SydFSCHelper.getConfigOrDefault(((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableCopilotLayout)||((o=_w._sydConvConfig)===null||o===void 0?void 0:o.isCCP),!1),ti=SydFSCHelper.getConfigOrDefault((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableFreeSydney,!1),ii=SydFSCHelper.getConfigOrDefault((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableFreeSydneyPrivacy,!1),ri=SydFSCHelper.getConfigOrDefault((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enablePrivacyProtectedConversation,!1),ui=SydFSCHelper.getConfigOrDefault((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableDelayGet1PGpts,!1),fi=dt&&!ni&&!gt?"cib-welcome-container":"#cib-chat-main",p=(a=_w._sydConvTranslation)===null||a===void 0?void 0:a.freeSydneyWelcomeAuthorText,w=(v=_w._sydConvTranslation)===null||v===void 0?void 0:v.sydneyGptCreatorWelcomeMessage,d=SydFSCHelper.getConfigOrDefault((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enable1pGPTPreLoadForCopilot,!1,!0),g=!0,nt=!1,tt=!1,i,r;n.attachPersonaChangeEvents=ei;n.removeLastWelcomeContainer=it;n.renderCopilotPage=b;n.setWelcomeScreenContentForFreeSydney=rt})(GPTHomeScreen||(GPTHomeScreen={}))