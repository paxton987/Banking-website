var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},GlobalActionMenuV2Wrapper;(function(n){var t;(function(t){function si(n){var i=n[1];i&&!t.sharingGlobalConfig&&(t.sharingGlobalConfig=i,s={Facebook:t.sharingGlobalConfig.facebookFormCode,Twitter:t.sharingGlobalConfig.twitterFormCode,Email:t.sharingGlobalConfig.mailFormCode,Sms:t.sharingGlobalConfig.smsFormCode,WhatsApp:t.sharingGlobalConfig.whatsAppFormCode,Pinterest:t.sharingGlobalConfig.pinterestFormCode,MyBing:t.sharingGlobalConfig.mybingFormCode,Weibo:t.sharingGlobalConfig.weiboFormCode,Qzone:t.sharingGlobalConfig.qzoneFormCode,GetUrl:t.sharingGlobalConfig.getUrlFormCode,OneNote:t.sharingGlobalConfig.oneNoteFormCode,Reddit:t.sharingGlobalConfig.redditFormCode,LinkedIn:t.sharingGlobalConfig.linkedInFormCode})}function hi(n){var i=n.querySelectorAll("[data-type='shareMedium'], .ga_cpy_link, .shareclosebtn"),r,t;if(i)for(r=function(){var r=i[t];if(r.getAttribute(tt)==="1")return"continue";sj_be(r,"click",function(t){at(t);ot(n,r)});AccessibilityHelpers.activateButtonByKey(r,[13,32],function(t){at(t);ot(n,r)});r.setAttribute(tt,"1")},t=0;t<i.length;t++)r()}function ci(n){var t=ht(n,"copyUrl"),i=n.querySelector(".ga_cpy_title_step0 >span");i&&t&&(i.innerText=t)}function ot(n,t){var i;return __awaiter(this,void 0,void 0,function(){var r,o,l,a,s,v,w,f,h,c,e;return __generator(this,function(b){switch(b.label){case 0:return!n||!t?[2]:(r=t.getAttribute(y),!r)?[2]:(o=sb_gt(),r==="Close")?(sj_evt.fire("GlobalActionMenuV2Wrapper.HideActionMenuContent",n),e={OverallDT:(sb_gt()-o).toString(),GetShareLinkDT:"0",UploadScreenshotDT:"0",GetShortShareLinkDT:"0"},u(n,"ShareActionClickHandlerSuccess",r,e),[2]):(r==="CopyUrl"||r==="GetUrl")&&(l=t.parentElement,l&&(a=l.getElementsByClassName(p),s=a[0],s&&s.innerText))?(h=lt(n,s.innerText),t.focus(),c=h?"ShareActionClickHandlerSuccess":"ShareActionClickHandlerFailure",e={OverallDT:(sb_gt()-o).toString(),GetShareLinkDT:"0",UploadScreenshotDT:"0",GetShortShareLinkDT:"0"},u(n,c,r,e),[2]):(v=ct(n),w=(i=v.getAttribute(d))!==null&&i!==void 0?i:"",[4,st(n,t,!1)]);case 1:return f=b.sent(),f?(h=li(n,t,f.shareUrl,w,f.isLoading),c=h?"ShareActionClickHandlerSuccess":"ShareActionClickHandlerFailure",e={OverallDT:(sb_gt()-o).toString(),GetShareLinkDT:f.GetShareLinkDT,UploadScreenshotDT:f.UploadScreenshotDT,GetShortShareLinkDT:f.GetShortShareLinkDT},u(n,c,r,e)):u(n,"ShareActionClickHandlerFailure",r),[2]}})})}function st(n,r,u){var f=this;return new Promise(function(e){return __awaiter(f,void 0,void 0,function(){var o,f,l,a,s,p,h,w,c;return __generator(this,function(b){switch(b.label){case 0:return!n||!r?(e(null),[2,null]):(o=r.getAttribute(y),!o)?(e(null),[2,null]):(f=null,l=0,a=ai(o),s=ht(n,o),!s)?(e(null),[2,null]):(o==i[i.MyBing])?[4,ki(s,n,o)]:[3,2];case 1:if(p=b.sent(),p)c={shareUrl:s,shareThumbnailId:"",isLoading:a,GetShareLinkDT:"",UploadScreenshotDT:"0",GetShortShareLinkDT:"0"},e(c);else return e(null),[2,null];return[3,5];case 2:return(h=n.getAttribute(it)||n.getAttribute(v),!(u||o!==i[i.GetUrl]||t.sharingGlobalConfig.enableGetShareLinkFromServerForGetUrl))?[3,4]:(w=sb_gt(),[4,bi(n,o,s,!!h)]);case 3:f=b.sent();f&&f.ShortShareLink&&(s=f.ShortShareLink);f&&f.ThumbnailId&&(n.setAttribute(v,f.ThumbnailId),h||(h=f.ThumbnailId));l=sb_gt()-w;b.label=4;case 4:h||(h=ei);c={shareUrl:s,shareThumbnailId:h,isLoading:a,GetShareLinkDT:l.toString(),UploadScreenshotDT:f&&f.UploadScreenshotDT?f.UploadScreenshotDT:"0",GetShortShareLinkDT:f&&f.GetShortShareLinkDT?f.GetShortShareLinkDT:"0"};e(c);b.label=5;case 5:return[2]}})})})}function li(n,r,u,f,o){var s=w(n),h,tt,it,p,rt,ut,v,ft;if(!s||(h=r.getAttribute(y),!h))return!1;var d=!0,l,g=!0,a=0,nt=0,k=Shared.formatString(t.sharingGlobalConfig.thumbnailUrlFormat,f);if(h===i[i.Facebook])tt=location.protocol+"//www.bing.com"+t.sharingGlobalConfig.closeRedirectUrl,l=Shared.formatString(t.sharingGlobalConfig.facebookShareFormat,encodeURIComponent(u),encodeURIComponent(tt),ir(s.shareKey),t.sharingGlobalConfig.facebookAppId),a=t.sharingGlobalConfig.fbInitialHeight;else if(h===i[i.FacebookMessenger])it=location.protocol+"//www.bing.com"+t.sharingGlobalConfig.closeRedirectUrl,l=Shared.formatString(t.sharingGlobalConfig.facebookMessengerUrlFormat,t.sharingGlobalConfig.facebookAppId,encodeURIComponent(u),encodeURIComponent(it)),a=t.sharingGlobalConfig.fbInitialHeight;else if(h===i[i.Twitter])v=s.shareTwitterText!=null&&s.shareTwitterText.length>2?s.shareTwitterText:s.shareDescription,l=Shared.formatString(t.sharingGlobalConfig.twitterApi,s.shareHashtags,encodeURIComponent(v),encodeURIComponent(u)),a=t.sharingGlobalConfig.twitterInitialHeight;else if(h===i[i.Pinterest])l=Shared.formatString(t.sharingGlobalConfig.pinterestUrlFormat,encodeURIComponent(u),encodeURIComponent(k),encodeURIComponent(s.shareDescription)),a=t.sharingGlobalConfig.defaultInitialHeight;else if(h===i[i.MyBing])l=t.sharingGlobalConfig.mybingRedirectUrl,a=t.sharingGlobalConfig.defaultInitialHeight;else if(h===i[i.OneNote])l=Shared.formatString(t.sharingGlobalConfig.oneNoteUrlFormat,encodeURIComponent(u),encodeURIComponent(k),encodeURIComponent(s.shareTitle),encodeURIComponent(s.shareDescription)),a=t.sharingGlobalConfig.defaultInitialHeight;else if(h===i[i.Skype])l=Shared.formatString(t.sharingGlobalConfig.skypeUrlFormat,encodeURIComponent(u),encodeURIComponent(s.shareDescription)),a=t.sharingGlobalConfig.skypeInitialHeight,nt=t.sharingGlobalConfig.skypeInitialWidth;else if(h===i[i.LinkedIn])l=Shared.formatString(t.sharingGlobalConfig.linkedInUrlFormat,encodeURIComponent(u),encodeURIComponent(s.shareTitle),encodeURIComponent(s.shareDescription)),a=t.sharingGlobalConfig.defaultInitialHeight;else if(h===i[i.Email])p=c(s.shareEmailBody,u),l=Shared.formatString(t.sharingGlobalConfig.mailLauncherUrl,encodeURIComponent(s.shareEmailSubject),encodeURIComponent(p)),g=t.sharingGlobalConfig.isUnderside;else if(h===i[i.OutlookCom])p=c(s.shareEmailBody,u),l=Shared.formatString(t.sharingGlobalConfig.outlookComLauncherUrl,encodeURIComponent(s.shareEmailSubject),encodeURIComponent(p));else if(h===i[i.Gmail])p=c(s.shareEmailBody,u),l=Shared.formatString(t.sharingGlobalConfig.gmailLauncherUrl,encodeURIComponent(s.shareEmailSubject),encodeURIComponent(p));else if(h===i[i.Sms]){if(t.sharingGlobalConfig.smsProtocol){var et=s.shareIMText?s.shareIMText.replace("%","%25"):"",ot=c(et,u),st=Shared.formatString(t.sharingGlobalConfig.smsProtocol,encodeURIComponent(ot));_w.sj_lc&&_w.sj_lc(st)}}else h===i[i.WhatsApp]?(rt=c(s.shareIMText,u),ut=Shared.formatString(t.sharingGlobalConfig.whatsAppSchema,encodeURIComponent(rt)),rr(ut,t.sharingGlobalConfig.whatsAppStoreUrl,n)):h===i[i.GetUrl]||h==="CopyUrl"?r.getAttribute("data-skipstep1")!=="true"?b(n,u,!0):(d=lt(n,u),r.focus()):h===i[i.Weibo]?(v=s.shareTwitterText!=null&&s.shareTwitterText.length>2?s.shareTwitterText:s.shareDescription,l=Shared.formatString(t.sharingGlobalConfig.weiboShareFormat,encodeURIComponent(v),encodeURIComponent(u),encodeURIComponent(k)),a=t.sharingGlobalConfig.defaultInitialHeight):h===i[i.Qzone]?(v=s.shareTwitterText!=null&&s.shareTwitterText.length>2?s.shareTwitterText:s.shareDescription,l=Shared.formatString(t.sharingGlobalConfig.qzoneShareFormat,encodeURIComponent(s.shareTitle),encodeURIComponent(v),encodeURIComponent(u),encodeURIComponent(k)),a=t.sharingGlobalConfig.defaultInitialHeight):h===i[i.Reddit]&&(ft=s.shareTitle,l=Shared.formatString(t.sharingGlobalConfig.redditShareFormat,encodeURIComponent(u),encodeURIComponent(ft)));return l&&e(!o,l,g,a,nt),d}function ai(n){var o=n===i[i.Facebook],s=n===i[i.FacebookMessenger],f=n===i[i.Twitter],h=n===i[i.Pinterest],c=n==i[i.MyBing],l=n===i[i.Skype],a=n===i[i.LinkedIn],v=n===i[i.OneNote],y=n===i[i.OutlookCom],p=n===i[i.Gmail],w=n===i[i.Weibo],b=n===i[i.Qzone],k=n===i[i.Reddit],r=t.sharingGlobalConfig.useBlankLoadingPage?"about:blank":t.sharingGlobalConfig.loadingUrl,u=!0;return o?e(!0,r,!0,t.sharingGlobalConfig.fbInitialHeight):s?e(!0,r,!0,t.sharingGlobalConfig.fbInitialHeight,t.sharingGlobalConfig.fbmInitialWidth):f?e(!0,r,!0,t.sharingGlobalConfig.twitterInitialHeight,t.sharingGlobalConfig.twitterInitialWidth):l?e(!0,r,!0,t.sharingGlobalConfig.skypeInitialHeight,t.sharingGlobalConfig.skypeInitialWidth):v?e(!0,r,!0,t.sharingGlobalConfig.oneNoteInitialHeight,t.sharingGlobalConfig.oneNoteInitialWidth):f||h||a||w||b||c?e(!0,r,!0,t.sharingGlobalConfig.defaultInitialHeight):y||p||k?e(!0,r,!0,0):u=!1,u&&t.sharingGlobalConfig.useBlankLoadingPage&&vi(),u}function e(n,i,r,u,e){if(e===void 0&&(e=0),r)if(n||f==null)if(u>0){var o=e>0?e:550;f=_w.open(i,"shareW","toolbar=yes, scrollbars=yes, resizable=yes, top=500, left=500, width="+o+", height="+u)}else f=_w.open(i,"shareW");else{_w.location.origin||(_w.location.origin=_w.location.protocol+"//"+_w.location.hostname+(_w.location.port?":"+_w.location.port:""));try{t.sharingGlobalConfig.useLocationReplace?f.location.replace(i):f.location.href=i}catch(s){}f.postMessage({source:"sharing",url:i},_w.location.origin)}else _w.sj_lc&&_w.sj_lc(i)}function vi(){if(f){var r=_w.location.protocol+"//"+_w.location.hostname+t.sharingGlobalConfig.loadingUrl,i=f.window.document,n=i.createElement("iframe");n.src=r;n.style.width="100%";n.style.height="300px";n.style.border="0";i.body.appendChild(n)}}function ht(n,t){var r=w(n),i,f,u;return r?(i=_d.location.href,r.urlOverride&&(i=r.urlOverride),i=yi(i),f=pi(n,t),u=wi(i,f),u+="&shth="+r.shareOutImageThumbnailId,u.replace(oi,"%20")):null}function yi(n){var i=n.indexOf("?"),u,e,o;if(i<0)return n;var s=n.substring(0,i+1),t=n.substring(i+1),f=t.indexOf("#");f!==-1&&(t=t.substring(0,f));for(u in r)r.hasOwnProperty(u)&&(e=r[u],o=new RegExp("(&)?"+e+"=[^&]*","gi"),t=t.replace(o,""));return s+t}function pi(n,i){var u=w(n),f,e,o;return u?(f={},u.cropSetting&&(f[r.Crop]=u.cropSetting),e=n.getAttribute(it)||n.getAttribute(v),e&&(f[r.ThumbnailId]=e),o=n.getAttribute(g),o&&(f[r.Scenario]=o),t.sharingGlobalConfig.isCNEnglishSearch&&(f[r.EnSearch]="1"),f[r.FormCode]=tr(u,i),u.sharingGuid&&(f[r.Guid]=u.sharingGuid),!i||(f[r.ShareType]=i),u.shareTitle&&u.shareDescription&&u.hash&&(f[r.Title]=encodeURIComponent(Base64Encoder.stringToBase64(u.shareTitle)),f[r.Description]=encodeURIComponent(Base64Encoder.stringToBase64(u.shareDescription)),f[r.Hash]=encodeURIComponent(u.hash)),f):null}function wi(n,t){var r,i,f,u;if(!t)return n;r=n;i=n.indexOf("?");i==-1?r+="?":(f=n.substring(i).indexOf("#"),f>0?(i+=f,r=n.substring(0,i)):i=-1);for(u in t)t.hasOwnProperty(u)&&(r+="&".concat(u,"=").concat(t[u]));return i!=-1&&(r+=n.substring(i)),r}function bi(n,t,i,r){return new Promise(function(u){var h=gi(n,i,r),e,f;if(!h)return u(null),null;var o,s=ii,c=s.indexOf("?")===-1?"?":"&",l=["addloginsource","client","clientip","corpnet","features","hose","hoseassistant","logjserror","msamock","setvar","testhooks","theme","uncrunched","ptn","webthemedark","darkschemeovr"];for(e=0;e<l.length;e++)(o=location.href.match(new RegExp("[?&]"+l[e]+"=[^?&#]*","i")))&&o[0]&&(s+=c+o[0].substring(1),c="&");f=sj_gx();f.open("POST",s,!0);f.setRequestHeader("Content-type","application/json");f.onreadystatechange=function(){f.readyState===4&&u(nr(f,n,t))};f.send(JSON.stringify(h))})}function ki(n,t,i){return new Promise(function(r){var f,u;if(!n)return r(null),!1;var c={OriginalShareLink:n},e,o=ri,s=o.indexOf("?")===-1?"?":"&",h=["clientip","corpnet","features","uncrunched","webthemedark","darkschemeovr"];for(f=0;f<h.length;f++)(e=location.href.match(new RegExp("[?&]"+h[f]+"=[^?&#]*","i")))&&e[0]&&(o+=s+e[0].substring(1),s="&");u=sj_gx();u.open("POST",o,!0);u.setRequestHeader("Content-type","application/json");u.onreadystatechange=function(){u.readyState===4&&r(di(u,t,i))};u.send(JSON.stringify(c))})}function di(n,t,i){var r;try{return n.status===200&&n.responseText=="True"?(r={ErrorMessage:""},u(t,"ShareToMyBingSuccess",i,r),!0):(r={ErrorMessage:n.statusText},u(t,"ShareToMyBingFailure",i,r),!1)}catch(f){return r={ErrorMessage:f.message},u(t,"ShareToMyBingFailure",i,r),!1}}function gi(n,t,i){if(i)return{OriginalShareLink:t,EnableAddThumbnailId:!1};var r=n.querySelector(".".concat(fi));return!r||Lib.CssClass.contains(r,"b-hidden")?{OriginalShareLink:t,EnableAddThumbnailId:!0}:{OriginalShareLink:t,EnableAddThumbnailId:!0,ScreenshotBase64Url:r.src}}function nr(n,t,i){var f,r;try{return n.status===200&&n.responseText?(f=JSON.parse(n.responseText),r={ErrorMessage:f.ErrorMessage},u(t,"GetShareLinkSuccess",i,r),f):(r={ErrorMessage:n.statusText},u(t,"GetShareLinkFailure",i,r),null)}catch(e){return r={ErrorMessage:e.message},u(t,"GetShareLinkFailure",i,r),null}}function w(n){var t=ct(n);if(t){var i=t.getAttribute("data-cs"),l=i!=null&&i!==""?i:null,r=t.getAttribute("data-fc"),a=r!=null&&r!==""?JSON.parse(r):s,u=t.getAttribute(gt),v=u!=null&&u!==""?u:null,f=t.getAttribute(dt)||"",o=t.getAttribute(vt)||"",y=t.getAttribute(d)||"",h=t.getAttribute(yt),c=t.getAttribute(pt),p=h==null?f:h,w=c==null?o:c,e=t.getAttribute(kt);e=e||f;var b=t.getAttribute(ni),k=t.getAttribute(wt);return{shareKey:t.getAttribute("data-sk").toString(),hash:t.getAttribute(bt).toString(),shareTitle:f,shareDescription:o,shareOutImageThumbnailId:y,shareTwitterText:v,shareEmailSubject:p,shareEmailBody:w,shareIMText:e,shareHashtags:t.getAttribute("data-sh").toString(),cropSetting:l,formCodes:a,urlOverride:b,sharingGuid:k}}return null}function ct(n){if(n!==null&&n!==void 0)return n.querySelector(ti)}function tr(n,r){var e,u,f;if(r){e=i[r];for(u in n.formCodes)if(n.formCodes.hasOwnProperty(u)&&(f=i[u],f&e))return n.formCodes[u];for(u in s)if(s.hasOwnProperty(u)&&(f=i[u],f&e))return s[u]}return t.sharingGlobalConfig.defaultFormCode}function ir(n){for(var i=n.split("_"),r=[],t=0;t<5&&t<i.length;t++)r.push(i[t].substring(0,15));return r.join(",")}function c(n,t){var i=new RegExp("{share-url}","g");return n.indexOf("{share-url}")!=-1?n.replace(i,t):Shared.formatString("{0} {1}",n,t)}function rr(n,i,r){var e,u,s;if(_w.sj_lc&&_w.sj_lc(n),!!i)if(t.sharingGlobalConfig.checkAppInstall=="newTimeout")document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&clearTimeout(e)}),e=setTimeout(function(){(!r||Lib.CssClass.contains(r,ui))&&(k()?_w.open(i):_w.sj_lc(i))},t.sharingGlobalConfig.checkAppTimeout);else if(t.sharingGlobalConfig.checkAppInstall=="visibility"){if(typeof _d.hidden!="undefined"?u="hidden":typeof _d.msHidden!="undefined"?u="msHidden":typeof _d.webkitHidden!="undefined"&&(u="webkitHidden"),u)var f=!1,h=10,o=0,c=setInterval(function(){_d[u]&&(f=!0);o++;(f||o>=h)&&(clearInterval(c),f||(k()?_w.open(i):_w.sj_lc(i)))},100)}else t.sharingGlobalConfig.checkAppInstall=="timeout"&&(s=sb_gt(),setTimeout(function(){var n=sb_gt();n-s-t.sharingGlobalConfig.checkAppTimeout<100&&(k()?_w.open(i):_w.sj_lc(i))},t.sharingGlobalConfig.checkAppTimeout))}function b(n,t,i){return __awaiter(this,void 0,void 0,function(){var u,e,r,s,o,f;return __generator(this,function(h){switch(h.label){case 0:return(u=n.querySelectorAll(".ga_cpy_link"),!(u&&u[0]))?[3,3]:(e=u[0],r=e.parentElement,!r)?[3,3]:(s=r.getElementsByClassName(p),o=s[0],!o)?[3,3]:!t?[4,st(n,e,!0)]:[3,2];case 1:if(f=h.sent(),!f||!f.shareUrl)return[2];t=f.shareUrl;h.label=2;case 2:i&&(Lib.CssClass.remove(r,rt),Lib.CssClass.remove(r,ft),Lib.CssClass.add(r,ut));o.innerText=t;h.label=3;case 3:return[2]}})})}function lt(n,t){var u=n.querySelectorAll(".ga_cpy_link"),f,i,e,r;if(u&&u[0]&&(f=u[0],i=f.parentElement,i)){if(!t){if(e=i.getElementsByClassName(p),r=e[0],!r||!r.innerText)return!1;t=r.innerText}return Lib.CssClass.remove(i,rt),Lib.CssClass.remove(i,ut),Lib.CssClass.add(i,ft),ur(t)}return!1}function ur(n){var t=!0,i=function(){var i=document.createElement("textarea");i.value=n;document.body.appendChild(i);i.select();try{t=document.execCommand("copy")}catch(r){t=!1}document.body.removeChild(i)};return navigator&&navigator.clipboard?navigator.clipboard.writeText(n)["catch"](i):i(),t}function at(n){sj_pd(n);sj_sp(n)}function u(n,t,i,r){var o,u,s,c,h,e,f,l;if(i===void 0&&(i=null),r===void 0&&(r=null),o=typeof n=="string"?n:n===null||n===void 0?void 0:n.getAttribute(g),Log&&Log.Log&&o){if(t="GAMV2."+t,u=["Namespace",fr(o),"Scenario",o],i&&(u.push("ShareType"),u.push(i)),r)for(f in r)r.hasOwnProperty(f)&&r[f]&&(u.push(f),u.push(r[f]));if(s=o.indexOf("Codex_")===0?"Codex":"CI",s==="Codex"){for(c=["Namespace"],h={},e=0;e<u.length&&e+1<u.length;e+=2)f=u[e],l=u[e+1],c.indexOf(f)===-1&&(h[f]=l);u.push("CustomData");u.push(JSON.stringify(h))}Log.Log.apply(Log,__spreadArray(["SystemEvent",s,t,!1],u,!1))}}function fr(n){switch(n){case"Vertical_RealEstate":return"Vertical_RealEstate";case"Codex_ConversationMode":return"Conversation";case"Codex_SemanticSerp":return"RightRail";case"Codex_CreatorMode":return"Creator";case"Codex_Others":return"Codex_Others";default:return"Others"}}function k(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.sharelinknewtab!==undefined&&_G.EF.sharelinknewtab===1}var l=this,a,o,i;(function(n){n[n.Visible=0]="Visible";n[n.Init=1]="Init";n[n.Ready=2]="Ready";n[n.Complete=3]="Complete";n[n.Error=4]="Error"})(o||(o={})),function(n){n[n.None=0]="None";n[n.Facebook=1]="Facebook";n[n.Twitter=2]="Twitter";n[n.LinkedIn=4]="LinkedIn";n[n.Email=8]="Email";n[n.Sms=16]="Sms";n[n.WhatsApp=32]="WhatsApp";n[n.Pinterest=64]="Pinterest";n[n.Skype=128]="Skype";n[n.FacebookMessenger=256]="FacebookMessenger";n[n.OneNote=512]="OneNote";n[n.Weibo=1024]="Weibo";n[n.Qzone=2048]="Qzone";n[n.Reddit=4096]="Reddit";n[n.MyBing=65536]="MyBing";n[n.OutlookCom=1073741824]="OutlookCom";n[n.Gmail=536870912]="Gmail";n[n.GetUrl=268435456]="GetUrl";n[n.All=66559]="All"}(i||(i={}));var r={ShareType:"shtp",Title:"shtk",Description:"shdk",Hash:"shhk",ThumbnailId:"shth",Crop:"shtc",FormCode:"form",EnSearch:"ensearch",Guid:"shid",Scenario:"shsc"},vt="data-sd",d="data-oi",yt="data-es",pt="data-eb",wt="data-gd",bt="data-ht",kt="data-im",dt="data-st",gt="data-tt",ni="data-uo",g="data-scenario",nt="GlobalActionMenuV2Wrapper.Sharing.Binded",tt="data-initialized",ti=".b_sharedata",ii="/sharing/getsharelink",ri="/sharing/sharetomybing",it="data-thumbnailid",v="data-s-thumbnailid",y="data-medium",ui="openmenu",rt="ga_cpy_block_step0",ut="ga_cpy_block_step1",ft="ga_cpy_block_step2",p="ga_cpy_title_step1",fi="image-screenshot",ei="OBFB.107AF8B2FB79BD01FFDCABA4D756224A",oi=/%C2%A0/gi,s,et=!1,f=null,h={};h[o.Visible]="Social share is visible.";h[o.Init]="Social share is initiated.";h[o.Ready]="Social share is ready.";h[o.Complete]="Social share is completed.";h[o.Error]="Social share error occurred.";t.sharingGlobalConfig=((a=n===null||n===void 0?void 0:n.Sharing)===null||a===void 0?void 0:a.sharingGlobalConfig)||null;sj_evt.bind(nt,function(){et=!0},!0);et||(sj_evt.fire(nt),sj_evt.bind("GlobalActionMenuV2Wrapper.InitSharingGlobalConfig",si,!0),sj_evt.bind("GlobalActionMenuV2Wrapper.InitShareActions",function(n){var t=n[1];t&&hi(t)},!0),sj_evt.bind("GlobalActionMenuV2Wrapper:InitShareCopyUrl",function(n){return __awaiter(l,void 0,void 0,function(){var t;return __generator(this,function(){return(t=n[1],!t)?[2]:(ci(t),[2])})})},!0),sj_evt.bind("GlobalActionMenuV2Wrapper:ScreenshotSkipped",function(n){return __awaiter(l,void 0,void 0,function(){var t;return __generator(this,function(){return(t=n[1],!t)?[2]:(t.getAttribute("data-gtlfcos")==="true"&&b(t,"",!1),[2])})})},!0),sj_evt.bind("GlobalActionMenuV2Wrapper:ScreenshotCompleted",function(n){return __awaiter(l,void 0,void 0,function(){var t;return __generator(this,function(){return(t=n[1],!t)?[2]:(t.getAttribute("data-gtlfcos")==="true"&&b(t,"",!1),[2])})})},!0))})(t=n.Sharing||(n.Sharing={}))})(GlobalActionMenuV2Wrapper||(GlobalActionMenuV2Wrapper={}))